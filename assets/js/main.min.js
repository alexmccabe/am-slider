!function(i){"use strict";function n(n,t){if(t.directionControls===!0&&0===i(".am-direction-controls").length){var e='<ul class="am-direction-controls"><li class="am-prev"><a href="#">'+t.directionContolsText.prev+'</a></li><li class="am-next"><a href="#">'+t.directionContolsText.next+"</a></li></ul>";i(n).append(e)}}function t(n,t){if(".am-nav-controls"===t.navControlsClass&&0===i(t.navControlsClass).length||0===i(t.navControlsClass).length){for(var e='<ul class="am-nav-controls">',s=i(t.slideContainer).find(t.slideElement).length,a=1;s+1>a;a++)e+='<li class="am-tab"><a href="#">'+a+"</a></li>";e+="</ul>",i(n).append(e)}else i(t.navControlsClass).children().addClass("am-tab")}function e(i){if("undefined"==typeof window.Modernizr){var n=document.body||document.documentElement,t=n.style,e="transition";if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var s=0;s<i.length;s++)if("string"==typeof t[i[s]+e])return!0;return!1}return Modernizr.csstransitions?!0:void 0}i.amSlider=function(s,a){this.options={},this.el=i(s),this.el.data("amSlider",this),this.init=function(s,a){var o=this;o.options=i.extend({},i.amSlider.defaultOptions,a),a=o.options,o.slideContainer=o.el.children(a.slideContainer),o.slides=i(o.slideContainer).find(a.slideElement),o.numSlides=o.slides.length,o.isAnimating=!1,o.isPlaying=!1,o.current=0,o.setInterval=null,o.transitionSupport=!1,o.domPrefixes="webkit Webkit Moz O ms Khtml".split(" "),e(o.domPrefixes)&&(o.transitionSupport=!0),a.directionControls&&o.numSlides>1&&n(s,a),a.navControls&&o.numSlides>1&&t(s,a),this.initSlides(),this.initEvents()},this.initEvents=function(){var n=this;n.options.autoPlay&&n.play(),n.options.pauseOnHover&&n.options.autoPlay&&n.el.hover(function(){n.pause()},function(){n.play()}),i(".am-prev").click(function(i){i.preventDefault(),n.slide("prev")}),i(".am-next").click(function(i){i.preventDefault(),n.slide("next")}),i(".am-tab").click(function(t){t.preventDefault();var e=i(this).index();n.slide(e)}),i(".am-pause").click(function(i){i.preventDefault(),a.autoPlay=!1,n.pause()}),i(".am-play").click(function(i){i.preventDefault(),a.autoPlay=!0,n.play()})},this.initSlides=function(){var n=this;n.slides.eq(n.current).addClass("am-current"),i(".am-tab").eq(n.current).addClass("am-tab-current"),n.options.cssTransitions&&n.transitionSupport?(n.slides.css({opacity:0,visibility:"hidden","transition-duration":n.options.animDuration/1e3+"s","transition-property":"all"}),n.slides.eq(0).css({opacity:1,visibility:"visible"})):(n.slides.css("display","none"),n.slides.eq(0).css("display","list-item"))},this.next=function(){var i=this;i.slide("next")},this.prev=function(){var i=this;i.slide("prev")},this.slide=function(i){var n=this;switch(i){case!isNaN(i)&&parseInt(Number(i)):i>=0&&i<=n.numSlides-1?(n.animatingTo=i,console.log("jumping to slide:"+n.animatingTo)):n.animatingTo=void 0;break;case"prev":var t=n.current-1;n.animatingTo=0>t?n.numSlides-1:t,console.log("prev");break;case"next":default:var e=n.current+1;n.animatingTo=e>n.numSlides-1?0:e,console.log("next")}n.isAnimating||n.current===i||"undefined"==typeof n.animatingTo||(n.pause(),n.animate(),n.current=n.animatingTo,n.options.autoPlay&&n.options.pauseOnHover&&!n.el.is(":hover")&&n.play())},this.pause=function(){var i=this;clearInterval(i.setInterval),i.isPlaying=!1,console.log("paused")},this.play=function(){var i=this;i.isPlaying?console.log("already playing"):(i.setInterval=setInterval(function(){i.slide("next")},i.options.slideDuration),i.isPlaying=!0,console.log("playing"))},this.animate=function(){var n=this;n.isAnimating||(console.log("current:"+n.current+"next:"+n.animatingTo),n.slides.eq(n.current).removeClass("am-current"),n.slides.eq(n.animatingTo).addClass("am-current"),i(".am-tab").eq(n.current).removeClass("am-tab-current"),i(".am-tab").eq(n.animatingTo).addClass("am-tab-current"),n.options.cssTransitions&&n.transitionSupport?(n.slides.eq(n.current).css({opacity:0,visibility:"hidden"}),n.slides.eq(n.animatingTo).css({opacity:1,visibility:"visible"}),n.isAnimating=!0,i(n.slides.eq(n.current),n.slides.eq(n.animatingTo)).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){n.isAnimating=!1})):(n.slides.eq(n.current).fadeOut(n.options.animDuration),n.slides.eq(n.animatingTo).fadeIn(n.options.animDuration),n.isAnimating=!0,setTimeout(function(){n.isAnimating=!1},n.options.animDuration)))},this.init(s,a)},i.fn.amSlider=function(n){return this.each(function(){new i.amSlider(i(this),n)})},i.amSlider.defaultOptions={animDuration:1e3,autoPlay:!0,cssTransitions:!0,directionControls:!0,directionContolsText:{prev:"prev",next:"next"},navControls:!0,navControlsClass:".am-nav-controls",pauseOnHover:!1,slideContainer:".slides",slideElement:"li",slideDuration:5e3}}(jQuery);